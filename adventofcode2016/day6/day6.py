"""
--- Day 6: Signals and Noise ---

Something is jamming your communications with Santa. Fortunately, your signal is only partially jammed, and protocol in situations like this is to switch to a simple repetition code to get the message through.

In this model, the same message is sent repeatedly. You've recorded the repeating message signal (your puzzle input), but the data seems quite corrupted - almost too badly to recover. Almost.

All you need to do is figure out which character is most frequent for each position. For example, suppose you had recorded the following messages:

eedadn
drvtee
eandsr
raavrd
atevrs
tsrnev
sdttsa
rasrtv
nssdts
ntnada
svetve
tesnvt
vntsnd
vrdear
dvrsen
enarar
The most common character in the first column is e; in the second, a; in the third, s, and so on. Combining these characters returns the error-corrected message, easter.

Given the recording in your puzzle input, what is the error-corrected version of the message being sent?

Your puzzle answer was bjosfbce.

The first half of this puzzle is complete! It provides one gold star: *

--- Part Two ---

Of course, that would be the message - if you hadn't agreed to use a modified repetition code instead.

In this modified code, the sender instead transmits what looks like random data, but for each character, the character they actually want to send is slightly less likely than the others. Even after signal-jamming noise, you can look at the letter distributions in each column and choose the least common letter to reconstruct the original message.

In the above example, the least common character in the first column is a; in the second, d, and so on. Repeating this process for the remaining characters produces the original message, advent.

Given the recording in your puzzle input and this new decoding methodology, what is the original message that Santa is trying to send?
To begin, get your puzzle input.

"""

import sys
from collections import Counter

def solve_part1(fdata):
    counters = [Counter() for i in range (8)]
    lines = fdata.split()
    for line in lines:
        line = line.strip()
        for pos, char in enumerate(line):
            counters[pos][char] += 1
    decrypted = ""
    for counter in counters:
        print counter.most_common(1)[0]
        decrypted = decrypted + counter.most_common(1)[0][0]
    print decrypted

def solve_part2(fdata):
    counters = [Counter() for i in range (8)]
    lines = fdata.split()
    for line in lines:
        line = line.strip()
        for pos, char in enumerate(line):
            counters[pos][char] += 1
    decrypted = ""
    for counter in counters:
        if len(counter.most_common()):
            decrypted = decrypted + counter.most_common()[-1][0]
    print decrypted
    
def main():
    if len(sys.argv) >= 2:
        arg_fname = sys.argv[1]
        fdata = open(arg_fname, 'r').read()
    else:
        fdata = """eedadn
drvtee
eandsr
raavrd
atevrs
tsrnev
sdttsa
rasrtv
nssdts
ntnada
svetve
tesnvt
vntsnd
vrdear
dvrsen
enarar"""
    #fdata = fdata_problem
    solve_part2(fdata)
    solve_part2(fdata_problem)
fdata_problem = """ciglthza
yoqarfik
rcjoirth
vlxkrdxh
xjowcwsp
cufrbndk
qohzgsgw
bpdtsvgo
rcrvqkkc
btxvplse
qlfyltfb
cobghdqs
ruseyuvp
yqqzxjaa
pvhrtrnt
mlthveen
muuwmbwa
libbgkep
fiiilzus
cdcidhzp
ayadspsu
uaddwqoj
hqzqkrty
zijzbisy
phjqbbdl
mpqggfew
asflznfc
zmjrsxpj
hsuvqnqf
cfnafevn
pyotikpr
zbpyuuwm
kobzhfjl
ixzhdvlt
kaocobts
zvibydrv
apmgptcz
xwlmhenu
kxejeclq
hxoouxor
rlytjgev
qaftppcw
sozxfiaf
sudsdedx
dfkcuabm
qztpvgtk
bkifclzk
esoukwnn
zrhtjxfe
oqgzifhj
afksfxxd
jkdlwctq
dasojhxp
rrztjdvp
dvmkvwya
bsclbdrg
ndemfsnm
qbjidkwk
jfaknqge
ncrjolpa
eavqddsb
fvkpfxvq
owpgmxxq
caqrcygs
pzxjqtkx
rfidiweg
rgtptfhe
micnjcfu
rioxefts
dfjjzicj
igufreah
nnckuapd
qyplzxir
eehaooyc
hyemlbxj
dofcvydz
vtawodxn
touyoazv
wewxcdms
znkjkkzk
uggdhekb
thupqlws
wdvhiubm
btrepird
gvrbxkxi
rthlkmvv
cjtullwl
vmkpxoae
nbfixmdm
rgnboojf
yjwvqjoi
sovfwfle
splhpmdc
ukrxycoh
cmvraazt
bgtchynm
jnfuaqkf
ftykvlwj
opdnkczz
kqhhzujo
muiungmu
odaeittq
wejyeoub
jvswquyv
jggxtiww
wsmofcyd
pwdqpgeu
hpasgtmb
uzuqrore
uvdwjukh
kllvnmmb
tnvrgpzw
qlxxmlgm
mfgwrbyd
ayznopno
stwjwhky
gtuaxzam
lhmfvqds
hpnzfzxo
iqtgmkwo
bxujgszt
gyzohrdt
bhztojgo
tsarhlfg
qqscnlun
hwlpqkqy
mtnljxol
mpawbuno
kcqvkqej
pxpdjbph
puirebop
ajwbmrou
ejiotuyf
louuuuxk
ahcupbdu
ldrpjivl
djomgaim
bzlgspmx
ghpatdat
mrlpuuyh
egjedkpf
rzmcyjda
vgbjlcyg
wthvhkph
fdlxcbct
ezsxwsic
xlutfokp
kuijsrqx
jnohboeb
ctjldrui
spupdgjq
mivcwktm
xyijgstm
ggvizras
ztjdrhrb
fygyqytc
jsovebqw
zncmphql
pukihcxi
zmnnezwz
tqgwstto
rjzwpkhu
lqlhsicv
qfyjbdvn
ttwzazxv
pspwtimo
xzifzvzf
aeoiucal
dhrlcgzg
ivbwwigg
fcpawbgz
pqnqinhq
lgruulnt
onztvlov
gqgbmjcg
kgyxicin
nulhlkgc
kwsnyzjz
fljmomjb
xvfccjya
iuciyahi
ljdgrzfa
drhambmn
umxxkqka
rndggbcm
nsmbzgql
pjgyzfko
nzgymqck
seherqqv
yxdkxbtk
nxjglvbk
euzflpte
qlakodrw
vqrhpsqc
iqkauagh
arrcqgjo
gfgpblno
zxqktncm
yjnevofc
qjgrvcqv
ohqwyvuv
xwtubftc
ghudbnos
lwoedndr
xgutnnga
iighyswg
nkgdamrr
kreshqzr
ablqwdrr
hakjbegx
nuyuugrz
lcdsifnw
wckihgmh
cgfsvjpa
fbomoplr
xwztcusn
ohmodthy
ljuhfvct
qupffyxn
ncuaujmh
uplhopij
wjvdorqj
hfyturmr
xblmcxey
fyhlwybx
mbumynuq
wpnidebo
pcrklmpf
seutsxqn
ywnnqzqg
txlguard
woyrjzfu
orcfmres
wxbslaqb
fhufingt
qrbrjppx
lyxrtfau
edqgfvap
mebbyqik
dleedxrt
yrxfqxae
oekvohso
rzxzyept
ilvcojiv
pjhxhzsd
gxnuxspj
vbeenach
vlywhlba
kqrnhbzb
lpfljaup
yvynluqu
gbznsnnq
osqfpysd
mcnhffeh
aqerxnue
abkegaao
eudapygv
darbwthw
xejwdhlw
vynzctvt
biwstalc
kzsqmvcd
hbdcyegv
ajsfvsxn
brmksdyk
bnmeahjx
xhtwnmyr
vkxhbprx
sofgqibe
hgemjffe
jdseaxdd
bbfaxhcc
ayersfjt
vnalfjvy
iyjmtgld
axcjswrp
obqbizpj
rkvpeojc
tfchzvyu
dhfqltvx
aqkkjule
bcwufnly
owlyqvnp
qipvcyoe
salqmgxz
wzwyozsu
codtyzns
lhelafng
uewnzwfm
pgcvlrid
ynbomzur
qdavieex
ymnmnzpw
utenhfar
mhjcqghe
eyclmhzi
puisfeod
mofveozx
iebupovg
oytlqbij
slhpyyjl
zboxauda
oxagpdij
zxpqkspg
irkqkrky
lifftiif
vdqqlvwl
xstoiomi
fzkudsvz
gmfjpusd
hcosmxty
kitsrdzw
izayakjo
kapykwmi
hxtzkmfw
tnsnnpip
elcebvca
iudyguuu
jhobonbt
yovjiwxl
upmyzsvq
xhaqpzmc
njibaysb
rkoprgow
wdlmnpub
mxjgrmzu
errurxlt
gemhujjg
cbcgrcob
lmyrkatt
qmtseavz
shifsmxk
zsaswail
ssheeobz
aksvnweq
jszqzchw
xkypvfju
cqnnzscz
xhkxgrui
vlodbvdc
ppeyrpsn
rbddccre
eopfklqi
btjleqwx
lcpcgppo
wzvudski
gwrflqyw
usipjpzr
igxgaotc
erwaqplx
jjtvaqth
tctinuwq
udwxxlzi
nkadbbfl
dqtocshw
smfcaozk
toisuwgp
dwejfpdc
tqqafxnn
ylternth
skzzlthb
wuhocwff
eelmhyvy
jvnsmmyn
nnjiahum
jazijelv
fkhspmdu
ffbesirt
wezjwnei
jbxawsdw
hdvlrthr
ntgbpclv
nxzyetbp
kryhripu
ctcrplbs
kobfwcva
ansotqry
riyrlxup
xlchmhuz
yksoxsku
ekpefamp
hspemuvk
itltvaui
ettndixy
lyxzirdx
ncqcctwz
yptwyqhi
fbxnwacx
sppjgzij
tdxxjvyo
hyzncnol
epvbzlhn
wrznlybk
uusxwhyt
bfhviwmb
ummdcdrg
dmmjqqvu
guegvocf
zfwmysur
bdcsogay
evvbvrdp
jfsamrog
jzywepix
efhwgpnq
kkmzjzgd
bmydkmyq
tmkdheyo
sdczddjb
vigkzewa
jrazwwea
cukflwhb
pswbylmg
eseoutur
vaywfwva
fnxniiby
jabdnbyv
ovchozrv
uqkrwhqh
aeesvmns
bdwkmyxi
qwdmqchk
xdqmsory
jqqzztkz
uxjfnytj
fflitpgf
keukslzj
hkpzabgh
uvbtcdtm
tnxaynwz
lqvcdfho
sacornuy
raeqaofe
grgdtbbr
wsqczasr
xfxiybnj
cxiaeyjb
gefiyisq
mpnxvusy
dvrtzysi
tgaygtji
yihelhej
kroxeyks
hjxboyoc
dzwgvyqf
tvpjeekd
zazbeuhd
dcaxclll
nbmqzixz
wjdoxeyz
yvbkbkjj
pldnqoiv
owmujtak
fjikkhnh
wfppfrhk
kpzcygnq
dcaoktwq
kpjilmwj
mkdxnnbx
wcnpwpbg
yvydvmkq
pqgnbwkp
aiyyaqlk
temgkewh
ygqfustj
verqqolf
nnkckwxj
ssrwgsir
ovkmaqei
vnixijll
gvmznvhh
pbesjjcg
ldxvrvis
uvhitkpl
ctukxymt
gjxvjhkw
kzujrrkr
figlgkfp
oevomvom
dmsdugov
slbmqklm
qntlnsjz
jolwaxbi
rtploxoy
acltlubd
dofzsjqf
uacduqbx
ydbecxsp
zwggxxfn
uswhzeal
hsbmbsks
mnoorjdl
gtamtjdn
srrtnaha
flbzzxbr
irvjeias
qyjixdza
wxspfbau
bfqeoccc
vashswwd
cziysnnw
xmqogjmx
drrrwavx
ntfukvru
ohvcxdvq
hgerbhpa
ugnpavvp
taswsicy
myepzfon
zkqypnls
zyoubcah
zitkxwgg
cifbsjum
qlezejjy
yxnzpicg
fwxktfxc
mhysnvmk
tcycaggf
ayymqveo
bzzlnmqf
gmnvxgaw
guarudey
jrspirhi
lzkqcwfn
qppdnobn
pjdqbclk
igbakrwf
xpnatcse
nwpiilca
okihtgis
zwhyhksc
zjikwqxw
okmuxtab
hameegir
nowatlfe
pdhogzsv
rmwuhtbz
bfwgvmmd
samgfels
tlhtsfkz
imuygpmq
cvscjrrg
ydypcupe
vkwxatyq
qbbikeyl
xzarejlz
rkbvgmfv
igjkifpt
luxvrbuc
lwqthwnf
vwglpqjf
uicbmcwi
ozgbheeb
gelvdkso
ffoqkijm
ycsytmod
hwisdhoe
ixenhkfd
iwnfdmgq
jnfuyiql
fmvtvjuf
icvkudcl
miwbxqrf
cmmdfhes
cioqiykt
vovunjdb
bmkovgeh
vowaxzmm
dbtamvqn
znrnewfe
ehdsuoae
waosdkig
tyribhpm"""
    
if __name__ == "__main__":
    main()
